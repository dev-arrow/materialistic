android.testOptions.unitTests.all {
    // full options: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html
    maxHeapSize = "2048m"
    forkEvery = 4
    testLogging {
        events 'passed', 'skipped', 'failed', 'standardOut', 'standardError'
        exceptionFormat 'full'
    }
    jacoco {
        includeNoLocationClasses = true
    }
}

ext {
    assertjVersion = '1.1.1'
    robolectricVersion = '3.1.4'
}

dependencies {
    testCompile "org.robolectric:robolectric:$robolectricVersion",
            "org.robolectric:shadows-support-v4:$robolectricVersion",
            'org.mockito:mockito-core:2.1.0',
            'junit:junit:4.12'
    testCompile("com.squareup.assertj:assertj-android:$assertjVersion") {
            exclude group: 'com.android.support', module: 'support-annotations'
    }
    testCompile("com.squareup.assertj:assertj-android-support-v4:$assertjVersion") {
            exclude group: 'com.android.support', module: 'support-annotations'
            exclude group: 'com.android.support', module: 'support-v4' // see robolectric/robolectric#1633
    }
    testCompile("com.squareup.assertj:assertj-android-appcompat-v7:$assertjVersion") {
        exclude group: 'com.android.support', module: 'support-annotations'
        exclude group: 'com.android.support', module: 'appcompat-v7' // see robolectric/robolectric#1633
    }
}
